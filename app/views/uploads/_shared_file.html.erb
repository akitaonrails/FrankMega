<div id="<%= dom_id(shared_file) %>" class="bg-white dark:bg-dark-surface rounded-xl shadow p-4 flex items-center justify-between">
  <div class="flex-1 min-w-0">
    <h3 class="text-sm font-semibold text-gray-900 dark:text-white truncate"><%= shared_file.original_filename %></h3>
    <p class="text-xs text-gray-500 dark:text-gray-400">
      <%= number_to_human_size(shared_file.file_size) %> &middot;
      <%= shared_file.download_count %>/<%= shared_file.max_downloads %> downloads
    </p>
  </div>

  <div class="flex items-center gap-2 ml-4">
    <% if shared_file.active? %>
      <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300">Active</span>
    <% elsif shared_file.expired? %>
      <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300">Expired</span>
    <% else %>
      <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300">Exhausted</span>
    <% end %>

    <%= link_to upload_path(shared_file), class: "text-primary hover:text-primary-hover" do %>
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
        <path d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z" />
        <path d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z" />
      </svg>
    <% end %>

    <%= button_to upload_path(shared_file), method: :delete, class: "text-red-500 hover:text-red-700",
        data: { turbo_confirm: "Delete this file?" } do %>
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd" />
      </svg>
    <% end %>
  </div>
</div>
